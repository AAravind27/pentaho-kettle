library(identifier: "${params.LIB_NAME ?: 'jenkins-shared-libraries'}@${params.LIB_VERSION ?: 'master'}", changelog: false)

node(params.SLAVE_NODE_LABEL ?: 'non-master') {
  timestamps {
    config.stage()

    catchError {
      clean.preStage()
      checkoutStage()
      buildStage2()
      clean.postStage()
    }

    reportStage()
  }
}