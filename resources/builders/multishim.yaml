# optional (unless used in your yaml data below) - can be overridden by upstream properties using the same name
buildProperties:
        # global build control defaults
        # These are understood by the shared pipeline libraries:
        BUILD_PLAN_ID                  : Multishim master branch pipeline

        JOB_ITEM_DEFAULTS:
          archivable: true
# required
jobGroups:

  10:

     - jobID           :  osgi-bundles-lowdeps
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-osgi-bundles.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -P lowdeps -DskipDefault
       versionProperty :  pentaho-osgi-bundles.version
       archivable      :  false

  20:

     - jobID           :  hadoop-shims-api
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-hadoop-shims.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P api
       versionProperty :  pentaho-hadoop-shims.version
       archivable      :  false
       
  30:

     - jobID           :  hadoop-shims-common
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-hadoop-shims.git
       scmBranch       :  ${MULTISHIM_BRANCH}
       root            :  common
       directives      :  += -T 1C
       versionProperty :  pentaho-hadoop-shims.version                     

  40:

     - jobID           :  hadoop-shims-all
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-hadoop-shims.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += --projects shims/hdp25
       versionProperty :  pentaho-hadoop-shims.version
       archivable      :  false
       root            :  shims
       parallelize     :  true
       
  50:

     - jobID           :  osgi-bundles-highdeps
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-osgi-bundles.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -P highdeps -DskipDefault
       versionProperty :  pentaho-osgi-bundles.version
       archivable      :  false

  60:

     - jobID           :  big-data-plugin-features
       scmUrl          :  ${PENTAHO_SCM_ROOT}/big-data-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DfeaturesOnly
       versionProperty :  big-data-plugin.version
       archivable      :  false

  70:

     - jobID           :  hadoop-shims-ee-common
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P common -T 1C
       versionProperty :  pentaho-hadoop-shims.version

  80:

     - jobID           :  hadoop-shims-ee-all
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       root            :  shims
       directives      :  += -P all
       versionProperty :  pentaho-hadoop-shims.version

  90:

     - jobID           :  pdi-yarn-plugin
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-yarn-kettle-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-kettle-yarn-plugin.version
       archivable      :  false

  100:

     - jobID           :  karaf-assembly
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-karaf-assembly.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-karaf.version

  110:

     - jobID           :  big-data-plugin-assembly
       scmUrl          :  ${PENTAHO_SCM_ROOT}/big-data-plugin.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  big-data-plugin.version
       root            :  assemblies

  120:

     - jobID           :  karaf-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-karaf-ee-assembly.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-karaf.version

  130:

     - jobID           :  big-data-plugin-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-big-data-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P assemblies,pack
       versionProperty :  big-data-plugin.version
       atomicScmCheckout: true

     - jobID           :  prd-assembly
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-reporting.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -Ddesigner -Dmaven.test.failure.ignore=true
       versionProperty :  pentaho-reporting.version

  140:

     - jobID           :  prd-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-reportdesigner-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pentaho-reporting.version

  150:

     - jobID           :  pdi-client-assembly
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-kettle.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P assemblies
       versionProperty :  pdi.version
       testable        :  false

  160:

     - jobID           :  pdi-client-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  pdi.version
       root            :  data-integration
       testable        :  false

  170:

     - jobID           :  platform-server-assembly
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-platform.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P platform-assemble
       versionProperty :  platform.version
       testable        :  false

     - jobID           :  pad
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-aggdesigner.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  aggdesigner.version

  180:

     - jobID           :  platform-server-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-platform-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       directives      :  += -DskipDefault -P platform-ee-assemble
       versionProperty :  platform.version
       testable        :  false

     - jobID           :  pad-assembly-ee
       scmUrl          :  ${PENTAHO_SCM_ROOT}/pentaho-aggdesigner-ee.git
       scmBranch       :  ${DEFAULT_BRANCH}
       versionProperty :  aggdesigner.version
       testable        :  false
